## API Report File for "dcl-social-client"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AuthChain } from '@dcl/crypto';
import { EthAddress } from '@dcl/crypto';

// @public (undocumented)
export type BasicMessageInfo = {
    id: MessageId;
    timestamp: Timestamp;
};

// @public (undocumented)
export type Channel = Conversation & {
    description: string | undefined;
    memberCount: number;
};

// @public (undocumented)
export const CHANNEL_TYPE = "channel";

// @public (undocumented)
export enum ChannelErrorKind {
    // (undocumented)
    BAD_REGEX = 1,
    // (undocumented)
    GET_OR_CREATE = 0,
    // (undocumented)
    JOIN = 3,
    // (undocumented)
    LEAVE = 4,
    // (undocumented)
    RESERVED_NAME = 2,
    // (undocumented)
    SEARCH = 5
}

// @public (undocumented)
export class ChannelsError extends Error {
    constructor(kind: ChannelErrorKind);
    // (undocumented)
    getKind(): ChannelErrorKind;
}

// @public (undocumented)
export type ClientLoginOptions = {
    pendingEventOrdering: 'chronological' | 'detached';
    disablePresence: boolean;
    initialSyncLimit: number;
    getLocalStorage?: () => Storage;
    createOpts?: Record<string, any>;
};

// @public (undocumented)
export type Conversation = {
    type: ConversationType;
    id: ConversationId;
    unreadMessages?: Array<BasicMessageInfo>;
    userIds?: Array<string>;
    lastEventTimestamp?: number;
    hasMessages?: boolean;
    name?: string;
};

// @public
export class ConversationCursor {
    // (undocumented)
    canExtendInDirection(direction: CursorDirection): boolean;
    // (undocumented)
    getMessages(): TextMessage[];
    moveInDirection(direction: CursorDirection, size: number): Promise<boolean>;
    removeFromCursor(numberOfEvents: number, oldestMessages: boolean): void;
}

// @public (undocumented)
export type ConversationId = string;

// @public (undocumented)
export enum ConversationType {
    // (undocumented)
    CHANNEL = 2,
    // (undocumented)
    DIRECT = 1,
    // (undocumented)
    GROUP = 0
}

// @public (undocumented)
export type CurrentUserStatus = {
    presence: PresenceType;
    lastActiveAgo: Timestamp | undefined;
    realm?: Realm;
    position?: UserPosition;
};

// @public (undocumented)
export enum CursorDirection {
    // (undocumented)
    BACKWARDS = 0,
    // (undocumented)
    FORWARDS = 1
}

// @public (undocumented)
export type CursorOptions = {
    limit?: number;
    initialSize?: number;
};

// @public (undocumented)
export type FriendshipRequest = {
    from: SocialId;
    to: SocialId;
    createdAt: number;
    message?: string;
};

// @public (undocumented)
export interface GetOrCreateConversationResponse {
    // (undocumented)
    conversation: Conversation;
    // (undocumented)
    created: boolean;
}

// @public (undocumented)
export type MatrixRoom = {
    name: string;
    normalizedName: string;
    tags: Record<string, Record<string, any>>;
    accountData: Record<string, any>;
    summary: any;
    timeline: any[];
    oldState: any;
    currentState: any;
    lastThread?: any;
    roomId: string;
};

// @public (undocumented)
export type Member = {
    userId: string;
    name: string;
};

// @public (undocumented)
export type MessageId = string;

// @public (undocumented)
export enum MessageStatus {
    // (undocumented)
    READ = "read",
    // (undocumented)
    UNREAD = "unread"
}

// @public (undocumented)
export enum MessageType {
    // (undocumented)
    TEXT = "m.text"
}

// @public (undocumented)
export enum PresenceType {
    // (undocumented)
    OFFLINE = "offline",
    // (undocumented)
    ONLINE = "online",
    // (undocumented)
    UNAVAILABLE = "unavailable"
}

// @public (undocumented)
export type ProfileInfo = {
    displayName?: string;
    avatarUrl?: string;
};

// @public (undocumented)
export type Realm = {
    serverName: string;
    layer: string;
};

// @public (undocumented)
export interface SearchChannelsResponse {
    // (undocumented)
    channels: Channel[];
    // (undocumented)
    nextBatch: string | undefined;
}

// Warning: (ae-forgotten-export) The symbol "FriendsManagementAPI" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "MessagingAPI" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "SessionManagementAPI" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export interface SocialAPI extends FriendsManagementAPI, MessagingAPI, SessionManagementAPI {
}

// @public (undocumented)
export class SocialClient implements SocialAPI {
    // (undocumented)
    addAsFriend(userId: SocialId, message?: string | undefined): Promise<void>;
    // (undocumented)
    approveFriendshipRequestFrom(userId: SocialId): Promise<void>;
    // (undocumented)
    cancelFriendshipRequestTo(userId: SocialId): Promise<void>;
    // (undocumented)
    createDirectConversation(userId: SocialId): Promise<Conversation>;
    // (undocumented)
    deleteFriendshipWith(userId: SocialId): Promise<void>;
    // (undocumented)
    doesConversationHaveUnreadMessages(conversationId: ConversationId): boolean;
    // (undocumented)
    getAllConversationsWithUnreadMessages(): Conversation[];
    // (undocumented)
    getAllCurrentConversations(): {
        conversation: Conversation;
        unreadMessages: boolean;
    }[];
    // (undocumented)
    getAllCurrentFriendsConversations(): {
        conversation: Conversation;
        unreadMessages: boolean;
    }[];
    // @deprecated (undocumented)
    getAllFriends(): SocialId[];
    // (undocumented)
    getAllFriendsAddresses(): Promise<string[]>;
    // (undocumented)
    getChannel(roomId: string): Conversation | undefined;
    // (undocumented)
    getChannelByName(alias: string): Promise<Conversation | undefined>;
    // (undocumented)
    getConversationUnreadMessages(conversationId: ConversationId): Array<BasicMessageInfo>;
    // (undocumented)
    getCursorOnLastMessage(conversationId: ConversationId, options?: CursorOptions): Promise<ConversationCursor | undefined>;
    // (undocumented)
    getCursorOnLastRead(conversationId: ConversationId, options?: CursorOptions): Promise<ConversationCursor | undefined>;
    // (undocumented)
    getCursorOnMessage(conversationId: ConversationId, messageId?: MessageId, options?: CursorOptions): Promise<ConversationCursor | undefined>;
    // (undocumented)
    getDomain(): string;
    // (undocumented)
    getFriendRequestMessageBody(friendshipId: string, timestampFrom: number, timestampTo: number): Promise<TextMessage[]>;
    // (undocumented)
    getLastReadMessage(conversationId: ConversationId): BasicMessageInfo | undefined;
    // (undocumented)
    getMemberInfo(roomId: string, userId: string): ProfileInfo;
    // (undocumented)
    getOrCreateChannel(channelName: string, userIds: string[]): Promise<GetOrCreateConversationResponse>;
    // (undocumented)
    getPendingRequests(): FriendshipRequest[];
    // (undocumented)
    getProfileInfo(userId: string): Promise<ProfileInfo>;
    // (undocumented)
    getTotalUnseenMessages(): number;
    // (undocumented)
    getUserId(): SocialId;
    // (undocumented)
    getUserStatuses(...users: SocialId[]): Map<SocialId, CurrentUserStatus>;
    // (undocumented)
    isLoggedIn(): boolean;
    // (undocumented)
    isUserMyFriend(userId: SocialId): boolean;
    // (undocumented)
    joinChannel(roomIdOrChannelAlias: string): Promise<void>;
    // (undocumented)
    leaveChannel(roomId: string): Promise<void>;
    // (undocumented)
    listenToEvents(): void;
    // (undocumented)
    static loginToServer(synapseUrl: string, ethAddress: EthAddress, timestamp: Timestamp, authChain: AuthChain, options?: Partial<ClientLoginOptions> | undefined): Promise<SocialClient>;
    // (undocumented)
    logout(): Promise<void>;
    // (undocumented)
    markAsRead(conversationId: ConversationId, messageId: MessageId): Promise<void>;
    // (undocumented)
    markMessagesAsSeen(conversationId: ConversationId): Promise<void>;
    // (undocumented)
    onChannelMembers(listener: (conversation: Conversation, members: Member[]) => void): void;
    // (undocumented)
    onChannelMembership(listener: (conversation: Conversation, membership: string) => void): void;
    // (undocumented)
    onFriendshipDeletion(listener: (deletedBy: SocialId) => void): void;
    // (undocumented)
    onFriendshipRequest(listener: (requestedBy: SocialId, message?: string | undefined) => void): void;
    // (undocumented)
    onFriendshipRequestApproval(listener: (approvedBy: SocialId) => void): void;
    // (undocumented)
    onFriendshipRequestCancellation(listener: (canceledBy: SocialId) => void): void;
    // (undocumented)
    onFriendshipRequestRejection(listener: (rejectedBy: SocialId) => void): void;
    // (undocumented)
    onMessage(listener: (conversation: Conversation, message: TextMessage) => void): void;
    // (undocumented)
    onStatusChange(listener: (userId: SocialId, status: CurrentUserStatus) => void): void;
    // (undocumented)
    rejectFriendshipRequestFrom(userId: SocialId): Promise<void>;
    // (undocumented)
    searchChannel(limit: number, searchTerm?: string, since?: string): Promise<SearchChannelsResponse>;
    // (undocumented)
    sendMessageTo(conversationId: ConversationId, message: string): Promise<MessageId>;
    // (undocumented)
    setProfileInfo(profileInfo: ProfileInfo): Promise<void>;
    // (undocumented)
    setStatus(status: UpdateUserStatus): Promise<void>;
}

// @public (undocumented)
export type SocialId = string;

// @public (undocumented)
export type TextMessage = BasicMessageInfo & {
    text: string;
    sender: SocialId;
    status: MessageStatus;
};

// @public (undocumented)
export type Timestamp = number;

// @public (undocumented)
export class UnknownUsersError extends Error {
    constructor(unknownUsers: SocialId[]);
    // (undocumented)
    getUnknownUsers(): SocialId[];
}

// @public (undocumented)
export type UpdateUserStatus = {
    presence: PresenceType;
    realm: Realm;
    position: UserPosition;
};

// @public (undocumented)
export type UserPosition = {
    x: number;
    y: number;
};

// (No @packageDocumentation comment for this package)

```
